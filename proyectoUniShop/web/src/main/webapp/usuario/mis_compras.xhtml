<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="../WEB-INF/template.xhtml">
  <ui:define name="title">Carrito</ui:define>
  <ui:define name="content">
    <div class="row w-100">
      <div class="col-lg-12 col-md-12 col-12">
        <h:form id="form">
          <h1 class="display-5 mb-2 text-center"> #{usuarioBean.agregarCompraUsuario(seguridadBean.usuarioSesion.codigo)}Compras</h1>
          <p class="mb-5 text-center">
            <i class="text-info font-weight-bold">#{usuarioBean.listaCompras.size()}</i> Cantidad de Compras </p>
          <table id="compra_id" class="table table-condensed table-responsive">
            <thead>
            <tr>
              <th style="width:30%">CÃ³digo Compra</th>
              <th style="width:30%">Fecha Compra</th>
              <th style="width:20%">Medio pago</th>
              <th style="width:20%">Valor Compra</th>
            </tr>
            </thead>

            <tbody>
            <p:repeat value="#{usuarioBean.listaCompras}" var="compra" varStatus = "p">
              <tr style="margin-top: 15px">
                  <td class="align-middle" style="margin-top: 15px">#{compra.codigo}</td>
                  <td class="align-middle">#{compra.fechaCompra}</td>
                  <td class="align-middle">#{compra.metodoPago}</td>
                  <td class="align-middle">#{compraBean.calcularTotalCompras(compra)}</td>
              </tr>
            </p:repeat>
            </tbody>
          </table>
        </h:form>
      </div>
    </div>
    <div class="text-end">
    </div>
  </ui:define>
</ui:composition>
</html>